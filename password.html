<!-- Insert you code here -->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="style.css" />
    <script type="text/javascript" src="https://cdn.emailjs.com/sdk/2.2.4/email.min.js"></script>
      <script type="text/javascript">
  emailjs.init('fwBA3nPaGdt1hV2NP')
</script>
    <title>Password Generator</title>
  </head>
  <body>
    <!-- Here this is setting up the colored pencils photo and the title 
        for the page. You can begin editing outside of this but be careful -->
 <div class="screenBackground">
          <nav class="navbar">
              <div class="logo">
                  <img src="img/Logo (1).jpg" width="80" height="80" />
              </div>
              <ul class="navItems">
                  <li class="tabNames">
                      <a href="./index.html"> Home </a>
                  </li>
                  <li class="tabNames">
                      <a href="./flashcards.html"> FlashCards </a>
                  </li>
                  <li class="tabNames">
                      <a href="./calendar.html"> Agenda </a>
                  </li>
                  <li class="tabNames">
                      <a href="./gradecalc.php"> Class Grade Calculator </a>
                  </li>
                  <li class="tabNames">
                      <a href="./GPACalculator.html"> GPA Calculator </a>
                  </li>
                  <li class="tabNames">
                      <a href="./password.html"> Password Generator </a>
                  </li>
              </ul>
              <div class="hamburger">
                  <div class="line1"></div>
                  <div class="line2"></div>
                  <div class="line3"></div>
              </div>
          </nav>

      <!-- Insert you code here -->

      <div class="userFillPass">
        <h1 class="title primary1">Select your password requirements:</h1>
        <h2 class="title">If no input, just press submit to get a password!</h2>
        <h3 class="passwordFinal" id="pass1">password</h3>
        <form id="passwordGeneratorForm" class="userCheckBoxes">
          <!-- <p>Select your password requirements:</p> -->
          <div class="CheckBoxLabel">
            <input
              type="checkbox"
              name="passCriteria"
              id="LowerCase"
              value="Lower Case Letter(a-z)"
              onclick=""
            />
            <label for="LowerCase">Lower Case Letter (a-z)</label>
          </div>
          <div class="CheckBoxLabel">
            <input
              type="checkbox"
              name="passCriteria"
              id="UpperCase"
              value="Upper Case Letter(A-Z)"
              onclick=""
            />
            <label for="UpperCase">Upper Case (A-Z)</label>
          </div>
          <div class="CheckBoxLabel">
            <input
              type="checkbox"
              name="passCriteria"
              id="NumberFilter"
              value="Numbers (0-9)"
              onclick=""
            />
            <label for="NumberFilter">Numbers (0-9)</label>
          </div>
          <div class="CheckBoxLabel">
            <input
              type="checkbox"
              name="passCriteria"
              id="SpecialSymbols"
              value="SpecialSymbols @,#,$,%,& etc"
              onclick=""
            />
            <label for="SpecialSymbols">Special Symbols (@,#,$,%,& etc)</label>
          </div>
          <div class="CheckBoxLabel">
            <label class="lengthPass" for="length">Length of password</label>
            <div>
              <input
                type="text"
                name="passCriteria"
                id="length"
                value=""
                onclick=""
              />
            </div>
          </div>
        </form>
        <span>
          <button
            onclick="submitPassReq()"
            id="submitPass1"
            class="submitTheCriteria"
          >
            Submit
          </button>
          <button
            onclick="CopyThePassword()"
            id="submitPass1 copyBtn"
            class="submitTheCriteria"
          >
            Copy
          </button>
          <button
            onclick="sendAnEmailtoTheUser()"
            id="submitPass1 emailbtn"
            class="submitTheCriteria"
          >
          Email
          </button>
          <button
            onclick="makePassATxt()"
            id="submitPass1 emailbtn"
            class="submitTheCriteria"
          >
          Generate txt file
          </button>
        </span>
        <div class="email-generation" style="background-color: rgb(209, 176, 225);border-radius: 20%;padding: 10px;"></div>
      </div>
    </div>
    <script src="project.js"></script>
  
    <script>
        /* Here is the function to send an email. This is already generated 
        using EmailJS. I have created the template and everything through there and it is accessing it all through there. The user just must enter in the email and the password and the email will generate */
    function sendAnEmailtoTheUser() {
        let generateEmailHtml = "";
        generateEmailHtml += `
        <form style="padding:30px;;"id="form">
  <div class="field">
    <label for="to_name">Email Reciever </label>
    <input type="text" name="to_name" id="to_name">
  </div>
  <div style="padding:10px;"class="field">
    <label for="password">Copy password and insert</label>
    <input type="text" name="password" id="password">
  </div>
  <input type="submit" value="Send Email" id="button"
  class="submitTheCriteria"/>
</form>
      `;
  document.querySelector(".email-generation").innerHTML = generateEmailHtml;
  const btn = document.getElementById('button');

document.getElementById('form')
 .addEventListener('submit', function(event) {
   event.preventDefault();

   btn.value = 'Sending...';

   const serviceID = 'default_service';
   const templateID = 'template_8285a6p';

   emailjs.sendForm(serviceID, templateID, this)
    .then(() => {
      btn.value = 'Send Email';
      alert('Sent!');
    }, (err) => {
      btn.value = 'Send Email';
      alert(JSON.stringify(err));
    });})
  };
  /*Here this is just taking the password and letting the user create a txt file so they can save it to their computer*/
      function makePassATxt(){
       let PDFTitle= prompt("please type in where your new password is being used");
       let generatedHTML = "";
     generatedHTML =
     '\r This password is for: ' + PDFTitle + ' \r\n ' +
     'JC Curated Password: ' + document.getElementById("pass1").innerText + ' \r\n ' ;
    const textToBlob=new Blob([generatedHTML],{type:'text/plain'})
    const sFileName=`${PDFTitle}`;
let newLink=document.createElement("a");
newLink.download=sFileName;
if (window.webkitURL != null) {
  newLink.href = window.webkitURL.createObjectURL(textToBlob);
}
else {
  newLink.href = window.URL.createObjectURL(textToBLOB);
  newLink.style.display = "none";
  document.body.appendChild(newLink);
}

newLink.click();
      }
    </script>
  </body>
</html>
